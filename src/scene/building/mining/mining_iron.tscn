[gd_scene load_steps=17 format=3 uid="uid://do0fta2nw7wks"]

[ext_resource type="Script" path="res://src/scene/building/mining/mining_iron.gd" id="1_ku7fe"]
[ext_resource type="Script" path="res://src/scene/building/mining/UI/Ui_Mining.gd" id="2_10p2m"]
[ext_resource type="Script" path="res://src/scene/building/mining/Moviment_area.gd" id="3_5p40d"]
[ext_resource type="Texture2D" uid="uid://e2ntpqepmyw5" path="res://assets/textures/grid_1.png" id="4_sd5s7"]

[sub_resource type="BoxShape3D" id="BoxShape3D_u8q82"]
size = Vector3(25, 1, 25)

[sub_resource type="BoxShape3D" id="BoxShape3D_r4igg"]
size = Vector3(25, 3, 25)

[sub_resource type="NavigationMesh" id="NavigationMesh_ay05q"]
vertices = PackedVector3Array(-12, 0.1, -12, -12, 0.1, 12, 12, 0.1, 12, 12, 0.1, -12)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_parsed_geometry_type = 2
cell_height = 0.05

[sub_resource type="PlaneMesh" id="PlaneMesh_qhxbq"]
size = Vector2(25, 25)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_dpdmn"]
points = PackedVector3Array(5, 1, 4, 5, 0, 4, -3, 1, 4, -3, 0, 4, -3, 1, -2, -3, 0, -2, 5, 1, -2, 5, 0, -2)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ecmwd"]
bg_color = Color(0.258824, 0.258824, 0.258824, 0.572549)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_8vfli"]
bg_color = Color(0.25098, 0.25098, 0.25098, 0.929412)

[sub_resource type="CylinderMesh" id="CylinderMesh_t2wsr"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_bcpxq"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yu4kx"]
albedo_color = Color(0.784314, 0.670588, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wfxg0"]
transparency = 1
blend_mode = 3
albedo_texture = ExtResource("4_sd5s7")
uv1_scale = Vector3(25, 25, 25)

[sub_resource type="PlaneMesh" id="PlaneMesh_5oanm"]
size = Vector2(25, 25)

[node name="Mining_Iron" type="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.21, 0)
collision_layer = 16
collision_mask = 16
script = ExtResource("1_ku7fe")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
visible = false
shape = SubResource("BoxShape3D_u8q82")

[node name="verific_colision_building" type="Area3D" parent="."]
collision_layer = 128
collision_mask = 128

[node name="CollisionShape3D" type="CollisionShape3D" parent="verific_colision_building"]
shape = SubResource("BoxShape3D_r4igg")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ay05q")
navigation_layers = 16

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D"]
visible = false
mesh = SubResource("PlaneMesh_qhxbq")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
collision_layer = 32
collision_mask = 32

[node name="CollisionShape3D2" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
visible = false
shape = SubResource("BoxShape3D_u8q82")

[node name="Collision_" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.045, 0)
shape = SubResource("ConvexPolygonShape3D_dpdmn")
disabled = true

[node name="Build" type="Node3D" parent="NavigationRegion3D"]

[node name="Group_Broca_Mineradora" type="Node3D" parent="NavigationRegion3D/Build" groups=["Broca_Mineradora"]]

[node name="Node3D" type="Node3D" parent="."]

[node name="Marker3D" type="Marker3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 220.0
offset_bottom = 300.0
script = ExtResource("2_10p2m")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer/Control/VBoxContainer"]
layout_mode = 2
text = "CONTRUÇÕES
"

[node name="Loja" type="Panel" parent="CanvasLayer/Control/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_ecmwd")

[node name="ScrollContainer" type="ScrollContainer" parent="CanvasLayer/Control/VBoxContainer/Loja"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer"]
layout_mode = 2

[node name="GridContainer" type="GridContainer" parent="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer/VBoxContainer"]
layout_mode = 2
columns = 3

[node name="Control" type="Control" parent="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer/VBoxContainer/GridContainer"]
custom_minimum_size = Vector2(114, 64)
layout_mode = 2

[node name="Panel" type="Panel" parent="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer/VBoxContainer/GridContainer/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_8vfli")

[node name="Button" type="Button" parent="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer/VBoxContainer/GridContainer/Control/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
text = "MINERADORA"

[node name="Control2" type="Control" parent="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer/VBoxContainer/GridContainer"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2

[node name="Panel" type="Panel" parent="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer/VBoxContainer/GridContainer/Control2"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/Control/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="CanvasLayer/Control/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "modificar area - M"

[node name="Moviment_area" type="Node3D" parent="."]
visible = false
script = ExtResource("3_5p40d")

[node name="pilar_1" type="CharacterBody3D" parent="Moviment_area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 4)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Moviment_area/pilar_1"]
mesh = SubResource("CylinderMesh_t2wsr")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Moviment_area/pilar_1"]
shape = SubResource("CylinderShape3D_bcpxq")
disabled = true

[node name="pilar_2" type="CharacterBody3D" parent="Moviment_area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 4)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Moviment_area/pilar_2"]
mesh = SubResource("CylinderMesh_t2wsr")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Moviment_area/pilar_2"]
shape = SubResource("CylinderShape3D_bcpxq")
disabled = true

[node name="pilar_3" type="CharacterBody3D" parent="Moviment_area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -2)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Moviment_area/pilar_3"]
mesh = SubResource("CylinderMesh_t2wsr")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Moviment_area/pilar_3"]
shape = SubResource("CylinderShape3D_bcpxq")
disabled = true

[node name="pilar_4" type="CharacterBody3D" parent="Moviment_area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, -2)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Moviment_area/pilar_4"]
mesh = SubResource("CylinderMesh_t2wsr")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Moviment_area/pilar_4"]
shape = SubResource("CylinderShape3D_bcpxq")
disabled = true

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0371921, 0)
material_override = SubResource("StandardMaterial3D_yu4kx")
transparency = 0.85
cast_shadow = 0

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
size = Vector3(25, 0.5, 25)

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGCombiner3D"]
operation = 2
size = Vector3(24, 1, 24)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1421, 0)
visible = false
material_override = SubResource("StandardMaterial3D_wfxg0")
mesh = SubResource("PlaneMesh_5oanm")

[connection signal="pressed" from="CanvasLayer/Control/VBoxContainer/Loja/ScrollContainer/VBoxContainer/GridContainer/Control/Panel/Button" to="CanvasLayer/Control" method="_on_button_pressed"]
